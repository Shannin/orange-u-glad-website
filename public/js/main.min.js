function initMap(){var a=new google.maps.Map(document.getElementById("google-maps-box"),{center:{lat:37.7396515,lng:-122.2921592},zoom:11,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1});google.maps.event.addDomListener(a,"idle",function(){center=a.getCenter()}),google.maps.event.addDomListener(window,"resize",function(){a.setCenter(center)});for(var b="img/location-marker.png",c=new google.maps.Size(25,25),d=new google.maps.MarkerImage(b,null,null,null,c),e=0;e<dispensaries.length;e++){var f=dispensaries[e],g=new google.maps.Marker({position:f.location,map:a,icon:d});setMarkerClickEvent(a,g,f)}}function setMarkerClickEvent(a,b,c){b.addListener("click",function(){null!=currentInfoWindow&&currentInfoWindow.close();var d=generateInfoWindow(c);d.open(a,b),currentInfoWindow=d})}function generateInfoWindow(a){var b='<div class="locations-map__dispensary-card"><img src="img/dispensaries/'+a.logo+'" /><h5 class="font--sans-serif">'+a.name+'</h5><div class="font--sans-serif dispensary-card__body"><div class="dispensary-card__body__row no-space"><span>Address</span>'+a.address.street+'</div><div class="dispensary-card__body__row"><span></span>'+a.address.city+", "+a.address.state+" "+a.address.zip+'</div><div class="dispensary-card__body__row"><span>Phone</span>'+a.phone+'</div><div class="dispensary-card__body__row"><span></span><a href="'+a.website+'" target="_blank">Website</a></div></div></div>';return new google.maps.InfoWindow({content:b})}!function(a){"use strict";function b(){a(window).scrollTop()>150?a("#mainNav").addClass("visible"):a("#mainNav").removeClass("visible")}a("a.page-scroll").bind("click",function(b){var c=a(this);a("html, body").stop().animate({scrollTop:a(c.attr("href")).offset().top-50},1250,"easeInOutExpo"),b.preventDefault()}),a(window).scroll(function(){b()}),a(document).ready(function(){b();var c=localStorage.getItem("isEighteen");c||a("#age-verify-modal").addClass("visible")}),a("#header-email-form").submit(function(b){b.preventDefault();var c=a(this),d=a('input[name="email"]',c),e=a('button[type="submit"]',c),f=a(".error-box",this);f.html("");var g={};return a(this).serializeArray().forEach(function(a){g[a.name]=a.value}),""===g.email?(d.attr("placeholder","Please enter an email address"),d.addClass("error"),void f.html("Please enter an email address")):(e.prop("disabled",!0),void a.post("/api/addEmailToList",g,function(b){return e.prop("disabled",!1),b.success?(a(".form--email__form",c).toggle(),void a(".form--email__success-message",c).toggle()):void f.html(b.message)}))}),a("#contact-form").submit(function(b){b.preventDefault();var c=a(this),d=a(".error-box",this);d.removeClass("success"),d.html(""),a(".form-group",c).each(function(b){a(this).removeClass("error")});var e=a('input[name="name"]',c),f=a('input[name="email"]',c),g=a('input[name="company"]',c),h=a('textarea[name="comment"]',c),i=a('button[type="submit"]',c),j={};a(this).serializeArray().forEach(function(a){j[a.name]=a.value});var k=!0;""===j.comment&&(h.closest(".form-group").addClass("error"),d.html("What would you like to say?"),k=!1),""===j.email&&(f.closest(".form-group").addClass("error"),d.html("Please enter an email address."),k=!1),k&&(i.prop("disabled",!0),a.post("/api/contact",j,function(a){return i.prop("disabled",!1),a.success?(d.addClass("success"),d.html("Thanks!  We look forward to hearing what you have to say."),e.val(""),f.val(""),g.val(""),void h.val("")):void d.html(a.message)}))})}(jQuery);var dispensaries=[{name:"Sparc",address:{street:"1256 Mission St",city:"San Francisco",state:"CA",zip:"94103"},location:{lat:37.7768998,lng:-122.41421489},phone:"415-252-7727",logo:"sparc.jpg",website:"http://www.sparcsf.org"},{name:"Berkeley Patients Group",address:{street:"2366 San Pablo Ave",city:"Berkeley",state:"CA",zip:"94702"},location:{lat:37.863273,lng:-122.29061},phone:"510-540-6013",logo:"bpg.png",website:"http://www.mybpg.com"}],center,currentInfoWindow;!function(a){"use strict";a(".modal__button-hide").click(function(b){a(this).closest(".modal-custom").removeClass("visible")}),a("#age-verify-modal-enter-button").click(function(a){localStorage.setItem("isEighteen",!0)})}(jQuery);